(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59ffecea"],{"47d5":function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return o}));var r=t("b775");function l(){return Object(r["a"])({url:"/login/get/idcode",method:"post"})}function o(){return Object(r["a"])({url:"/login/get/managecom",method:"post"})}},"535e":function(e,a,t){"use strict";t("e15c")},6313:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container"},[t("h4",[e._v("团队维护")]),t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"180px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"管理机构",prop:"manageComCode"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.manageComCode,callback:function(a){e.$set(e.form,"manageComCode",a)},expression:"form.manageComCode"}},e._l(e.list.manageComCode,(function(a,r){return t("el-option",{key:r,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))]),t("span",{staticStyle:{float:"right"}},[e._v(e._s(a.label))])])})),1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"团队级别",prop:"branchLevel"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.branchLevel,callback:function(a){e.$set(e.form,"branchLevel",a)},expression:"form.branchLevel"}},[t("el-option",{attrs:{label:"行政区划",value:"1"}},[t("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v("1")]),t("span",{staticStyle:{float:"right"}},[e._v("行政区划")])])],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"团队代码",prop:"branchAttr"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.branchAttr,callback:function(a){e.$set(e.form,"branchAttr",a)},expression:"form.branchAttr"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"负责人代码",prop:"branchManager"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.branchManager,callback:function(a){e.$set(e.form,"branchManager",a)},expression:"form.branchManager"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"负责人姓名",prop:"branchManagerName"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.branchManagerName,callback:function(a){e.$set(e.form,"branchManagerName",a)},expression:"form.branchManagerName"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"负责人手机号",prop:"branchManagerPhone"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.branchManagerPhone,callback:function(a){e.$set(e.form,"branchManagerPhone",a)},expression:"form.branchManagerPhone"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"成立时间",prop:"branchEffDate"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"可选项",clearable:""},model:{value:e.form.branchEffDate,callback:function(a){e.$set(e.form,"branchEffDate",a)},expression:"form.branchEffDate"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"停业标志",prop:"branchStatus"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"可选项"},model:{value:e.form.branchStatus,callback:function(a){e.$set(e.form,"branchStatus",a)},expression:"form.branchStatus"}},[t("el-option",{attrs:{label:"否",value:"N"}}),t("el-option",{attrs:{label:"是",value:"Y"}})],1)],1)],1)],1),t("el-row",[t("el-form-item",{attrs:{label:""}},[t("el-col",{staticStyle:{"text-align":"left","margin-top":"1rem"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){return e.handleQuery(!0)}}},[e._v("查询")]),t("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:function(a){e.config.groupAddDialogVisible=!0}}},[e._v("新增")]),t("el-button",{attrs:{type:"secondary",icon:"el-icon-refresh-left"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),t("el-divider"),t("GroupTable",{ref:"groupTableData",on:{QUERY_GROUP:function(a){return e.handleQuery(!1)}}}),t("GroupAddDialog",{attrs:{visible:e.config.groupAddDialogVisible},on:{QUERY_GROUP:function(a){return e.handleQuery(!1)},CLOSE_GROUP_ADD_DIALOG:e.handleGroupAddDialogClose}})],1)},l=[],o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{attrs:{data:e.list,stripe:"",border:"",fit:"",height:"300"}},[t("el-table-column",{attrs:{label:"管理机构代码",prop:"manageComCode"}}),t("el-table-column",{attrs:{label:"管理机构名称",prop:"manageCom"}}),t("el-table-column",{attrs:{label:"团队代码",prop:"branchAttr"}}),t("el-table-column",{attrs:{label:"团队名称",prop:"branchName"}}),t("el-table-column",{attrs:{label:"群聊名称",prop:"chatName"}}),t("el-table-column",{attrs:{label:"负责人代码",prop:"branchManager"}}),t("el-table-column",{attrs:{label:"负责人姓名",prop:"branchManagerName"}}),t("el-table-column",{attrs:{label:"负责人手机号",prop:"branchManagerPhone"}}),t("el-table-column",{attrs:{label:"当前在职代理人个数",prop:"agentCount"}}),t("el-table-column",{attrs:{label:"成立日期",prop:"branchEffDate"}}),t("el-table-column",{attrs:{label:"停业标志",prop:"branchStatusName"}}),t("el-table-column",{attrs:{label:"停业时间",prop:"branchTerminateEffDate"}}),t("el-table-column",{attrs:{label:"操作员代码",prop:"operator"}}),t("el-table-column",{attrs:{label:"操作",width:"100px",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.showModifyDialog(e.list[a.$index])}}},[e._v("修改")])]}}])})],1),t("div",{staticClass:"block",staticStyle:{"text-align":"right","margin-top":"1rem"}},[t("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,50,100,200,500],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("GroupModifyDialog",{ref:"groupModifyDialog",attrs:{visible:e.config.groupModifyDialogVisible},on:{REFRESH_QUERY:function(a){return e.$emit("QUERY_GROUP")},CLOSE_GROUP_MODIFY_DIALOG:e.handleGroupModifyDialogClose}})],1)},n=[],i=t("7e2d"),s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{attrs:{title:"修改",visible:e.visible,width:"80%","before-close":e.handleDialogClose},on:{"update:visible":function(a){e.visible=a}}},[t("span",[t("el-form",{ref:"groupModify",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"管理机构",prop:"manageCom"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.manageCom,callback:function(a){e.$set(e.form,"manageCom",a)},expression:"form.manageCom"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队级别",prop:"branchLevel"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchLevel,callback:function(a){e.$set(e.form,"branchLevel",a)},expression:"form.branchLevel"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队代码",prop:"branchAttr"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchAttr,callback:function(a){e.$set(e.form,"branchAttr",a)},expression:"form.branchAttr"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队名称",prop:"branchName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.form.branchName,callback:function(a){e.$set(e.form,"branchName",a)},expression:"form.branchName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人代码",prop:"branchManager"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},on:{blur:function(a){return e.handleBranchManagerQuery()}},model:{value:e.form.branchManager,callback:function(a){e.$set(e.form,"branchManager",a)},expression:"form.branchManager"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人姓名",prop:"branchManagerName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchManagerName,callback:function(a){e.$set(e.form,"branchManagerName",a)},expression:"form.branchManagerName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人手机号",prop:"branchManagerPhone"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchManagerPhone,callback:function(a){e.$set(e.form,"branchManagerPhone",a)},expression:"form.branchManagerPhone"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"成立时间",prop:"branchEffDate"}},[t("el-date-picker",{staticStyle:{width:"60%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:""},model:{value:e.form.branchEffDate,callback:function(a){e.$set(e.form,"branchEffDate",a)},expression:"form.branchEffDate"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"停业标志",prop:"branchStatus"}},[t("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择"},on:{change:function(a){"Y"!==e.form.branchStatus&&(e.form.branchTerminateEffDate="")}},model:{value:e.form.branchStatus,callback:function(a){e.$set(e.form,"branchStatus",a)},expression:"form.branchStatus"}},[t("el-option",{attrs:{label:"是",value:"Y"}}),t("el-option",{attrs:{label:"否",value:"N"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"操作员",prop:"operator"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",placeholder:"",disabled:""},model:{value:e.form.operator,callback:function(a){e.$set(e.form,"operator",a)},expression:"form.operator"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"停业日期",prop:"branchTerminateEffDate"}},[t("el-date-picker",{staticStyle:{width:"60%"},attrs:{type:"date",placeholder:"请输入停业日期",disabled:"Y"!==e.form.branchStatus},model:{value:e.form.branchTerminateEffDate,callback:function(a){e.$set(e.form,"branchTerminateEffDate",a)},expression:"form.branchTerminateEffDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"群聊名称",prop:"chatName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.form.chatName,callback:function(a){e.$set(e.form,"chatName",a)},expression:"form.chatName"}})],1)],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"secondary"},on:{click:function(a){return e.$emit("CLOSE_GROUP_MODIFY_DIALOG")}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保 存")])],1)])},c=[],m=t("b775");function f(e,a){return Object(m["a"])({url:"/login/Team/querygroup?limit="+a.pageSize+"&page="+a.currentPage,method:"post",data:e})}function h(e){return Object(m["a"])({url:"/login/Team/updateGroup",method:"post",data:e})}function u(e){return Object(m["a"])({url:"/login/Team/insertgroup",method:"post",data:e})}function b(e){return Object(m["a"])({url:"/test/getGroupManager",method:"post",data:e})}var p={name:"GroupModifyDialog",props:{visible:{type:Boolean,default:!1}},data:function(){return{form:{manageCom:"",branchLevel:"",branchName:"",branchManager:"",branchAttr:"",branchManagerName:"",branchManagerPhone:"",branchEffDate:"",branchStatus:"",branchTerminateEffDate:"",operator:"",chatName:""},rules:{chatName:[{required:!0,message:"请输入群聊名称",trigger:"blur"}],branchName:[{required:!0,message:"请输入团队名称",trigger:"blur"}],branchStatus:[{required:!0,message:"请选择停业标志",trigger:"blur"}],branchTerminateEffDate:[{validator:this.branchTerminateEffDateValidator,trigger:"blur"}]}}},methods:{branchTerminateEffDateValidator:function(e,a,t){if("Y"===this.form.branchStatus&&0===a.length)return t(new Error("请输入停业日期"));t()},handleBranchManagerQuery:function(){var e=this;if(0===this.form.branchManager.length)return this.form.branchManagerName="",void(this.form.branchManagerPhone="");var a={agentCode:this.form.branchManager};0!==this.form.branchManager.length&&b(a).then((function(a){e.form.branchManagerName=a.data.agentName,e.form.branchManagerPhone=a.data.phone,e.$message.success("获取负责人代码/电话号成功")})).catch((function(){e.form.branchManagerName="",e.form.branchManagerPhone=""}))},handleSubmit:function(){var e=this;this.$refs["groupModify"].validate((function(a){if(!a)return console.log("no valid"),!1;h(e.form).then((function(a){e.$message.success("修改成功"),e.$emit("REFRESH_QUERY"),e.$emit("CLOSE_GROUP_MODIFY_DIALOG")}))}))},handleDialogClose:function(){this.$emit("CLOSE_GROUP_MODIFY_DIALOG")}}},d=p,g=t("5d22"),y=Object(g["a"])(d,s,c,!1,null,"4dfa0595",null),v=y.exports,M={name:"GroupTable",components:{GroupModifyDialog:v},data:function(){return{config:{groupModifyDialogVisible:!1},list:[],page:{currentPage:1,totalCount:0,pageSize:10}}},methods:{showModifyDialog:function(e){this.$refs.groupModifyDialog.form=Object(i["a"])({},e),this.config.groupModifyDialogVisible=!0},handleGroupModifyDialogClose:function(){this.config.groupModifyDialogVisible=!1},handleQueryGroup:function(e){var a=this;this.list=[],f(e,{pageSize:this.page.pageSize,currentPage:this.page.currentPage}).then((function(e){a.list=e.list,a.page.totalCount=e.totalcount,a.$message.success("查询完毕")})).catch((function(e){a.page.totalCount=e["totalCount"]})),this.page.currentPage=1},handleSizeChange:function(e){this.page.pageSize=e,this.$emit("QUERY_GROUP")},handleCurrentChange:function(e){this.page.currentPage=e,this.$emit("QUERY_GROUP")}}},S=M,D=Object(g["a"])(S,o,n,!1,null,"26bcfe49",null),C=D.exports,x=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{attrs:{title:"新增",visible:e.visible,width:"80%","before-close":e.handleDialogClose},on:{"update:visible":function(a){e.visible=a}}},[t("span",[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"180px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"管理机构",prop:"manageComCode4"}},[t("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择管理机构"},model:{value:e.form.manageComCode4,callback:function(a){e.$set(e.form,"manageComCode4",a)},expression:"form.manageComCode4"}},e._l(e.list.manageComCode4,(function(a,r){return t("el-option",{key:r,attrs:{label:a.label,value:a.value}},[t("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))]),t("span",{staticStyle:{float:"right"}},[e._v(e._s(a.label))])])})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队级别",prop:"branchLevel"}},[t("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择"},model:{value:e.form.branchLevel,callback:function(a){e.$set(e.form,"branchLevel",a)},expression:"form.branchLevel"}},[t("el-option",{attrs:{label:"行政区划",value:"1"}},[t("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v("1")]),t("span",{staticStyle:{float:"right"}},[e._v("行政区划")])])],1)],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队代码"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"团队名称",prop:"branchName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.form.branchName,callback:function(a){e.$set(e.form,"branchName",a)},expression:"form.branchName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人代码",prop:"branchManager"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"输入后自动获取姓名与手机号",type:"text"},on:{blur:e.handleBranchManagerQuery},model:{value:e.form.branchManager,callback:function(a){e.$set(e.form,"branchManager",a)},expression:"form.branchManager"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人姓名",prop:"branchManagerName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchManagerName,callback:function(a){e.$set(e.form,"branchManagerName",a)},expression:"form.branchManagerName"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"负责人手机号",prop:"branchManagerPhone"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.branchManagerPhone,callback:function(a){e.$set(e.form,"branchManagerPhone",a)},expression:"form.branchManagerPhone"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"成立时间",prop:"branchEffDate"}},[t("el-date-picker",{staticStyle:{width:"60%"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:""},model:{value:e.form.branchEffDate,callback:function(a){e.$set(e.form,"branchEffDate",a)},expression:"form.branchEffDate"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"停业标志",prop:"branchStatus"}},[t("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"否",disabled:""},model:{value:e.form.branchStatus,callback:function(a){e.$set(e.form,"branchStatus",a)},expression:"form.branchStatus"}},[t("el-option",{attrs:{label:"否",value:"N"}}),t("el-option",{attrs:{label:"是",value:"Y"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"操作员",prop:"operator"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text",disabled:""},model:{value:e.form.operator,callback:function(a){e.$set(e.form,"operator",a)},expression:"form.operator"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"停业日期",prop:"branchTerminateEffDate"}},[t("el-date-picker",{staticStyle:{width:"60%"},attrs:{disabled:"",type:"date",placeholder:"选择停业时间"},model:{value:e.form.branchTerminateEffDate,callback:function(a){e.$set(e.form,"branchTerminateEffDate",a)},expression:"form.branchTerminateEffDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"群聊名称",prop:"chatName"}},[t("el-input",{staticStyle:{width:"60%"},attrs:{type:"text"},model:{value:e.form.chatName,callback:function(a){e.$set(e.form,"chatName",a)},expression:"form.chatName"}})],1)],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"secondary"},on:{click:e.handleCancle}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保 存")])],1)])},w=[],_=(t("08ba"),t("fe8a"),t("47d5")),$={name:"GroupAddDialog",props:{visible:{type:Boolean,default:!1}},data:function(){return{form:{default:{branchLevel:"1",branchStatus:"N",operator:"admin"},manageComCode4:"",branchName:"",branchManager:"",branchManagerName:"",branchManagerPhone:"",branchEffDate:"",branchStatus:"N",branchTerminateEffDate:"",operator:"admin",branchLevel:"1",chatName:""},list:{manageComCode4:[],branchLevel:[]},rules:{manageComCode4:[{required:!0,message:"请选择管理机构",trigger:"blur"}],branchLevel:[{required:!0,message:"请选择团队级别",trigger:"blur"}],branchName:[{required:!0,message:"请输入团队名称",trigger:"blur"}],branchEffDate:[{required:!0,message:"请选择成立时间",trigger:"blur"}],operator:[{required:!0,message:"请选择操作员",trigger:"blur"}],chatName:[{required:!0,message:"请输入群聊名称",trigger:"blur"}]}}},created:function(){this.getInitOptions()},methods:{getInitOptions:function(){var e=this;Object(_["b"])().then((function(a){e.list.manageComCode4=a.list4}))},handleCancle:function(){var e=this;this.$emit("CLOSE_GROUP_ADD_DIALOG"),Object.keys(this.form).forEach((function(a){e.form[a]=""}))},handleSubmit:function(){var e=this;this.$refs["form"].validate((function(a){if(!a)return!1;e.sendSubmitRequest(e.form)}))},handleBranchManagerQuery:function(){var e=this;if(0===this.form.branchManager.length)return this.form.branchManagerName="",void(this.form.branchManagerPhone="");var a={agentCode:this.form.branchManager};0!==this.form.branchManager.length&&b(a).then((function(a){e.form.branchManagerName=a.data.agentName,e.form.branchManagerPhone=a.data.phone,e.$message.success("获取负责人代码/电话号成功")})).catch((function(){e.form.branchManagerName="",e.form.branchManagerPhone=""}))},branchTerminateEffDateValidator:function(e,a,t){"Y"===this.form.branchStatus&&0===this.form.branchTerminateEffDate.length&&t(new Error("请选择停业日期")),t()},handleDialogClose:function(){this.$refs["form"].resetFields(),this.$emit("CLOSE_GROUP_ADD_DIALOG")},sendSubmitRequest:function(e){var a=this;u(e).then((function(e){a.$emit("CLOSE_GROUP_ADD_DIALOG"),a.$emit("QUERY_GROUP"),a.$message.success("添加成功"),a.form=Object(i["a"])({default:a.form.default},a.form.default),console.log(e)})).catch((function(e){console.log(e)}))}}},E=$,N=Object(g["a"])(E,x,w,!1,null,"35188de8",null),O=N.exports,k=t("61f7"),P={name:"TeamHold",components:{GroupAddDialog:O,GroupTable:C},data:function(){return{config:{groupAddDialogVisible:!1},form:{manageComCode:"",branchLevel:"",branchAttr:"",branchManager:"",branchManagerName:"",branchManagerPhone:"",branchEffDate:"",branchStatus:""},list:{manageComCode:[],branchLevel:[]},rules:{manageComCode:[{required:!0,message:"请选择管理机构",trigger:"change"}],branchManagerPhone:[{validator:k["j"],trigger:"blur"}]}}},created:function(){this.getInitOptions()},methods:{resetForm:function(){this.$refs["form"].resetFields(),this.$refs.groupTableData.list=[]},handleGroupAddDialogClose:function(){this.$refs["form"].resetFields(),this.config.groupAddDialogVisible=!1},handleQuery:function(e){var a=this;e?this.$refs["form"].validate((function(e){e&&a.$refs.groupTableData.handleQueryGroup(a.form)})):this.$refs.groupTableData.handleQueryGroup(this.form)},handleRefreshTable:function(){this.$refs.groupTableData.handleQueryGroup(this.form)},getInitOptions:function(){var e=this;Object(_["b"])().then((function(a){e.list.manageComCode=a.totallist}))}}},G=P,L=(t("535e"),Object(g["a"])(G,r,l,!1,null,"55a03c28",null));a["default"]=L.exports},e15c:function(e,a,t){}}]);