(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2a2dc06"],{"0d6b":function(e,t,a){},"4df4":function(e,t,a){"use strict";var o=a("0366"),n=a("7b0b"),r=a("9bdd"),l=a("e95a"),i=a("50c4"),s=a("8418"),c=a("35a1");e.exports=function(e){var t,a,m,f,u,d,p=n(e),g="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=c(p),C=0;if(v&&(b=o(b,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&l(y))for(t=i(p.length),a=new g(t);t>C;C++)d=v?b(p[C],C):p[C],s(a,C,d);else for(f=y.call(p),u=f.next,a=new g;!(m=u.call(f)).done;C++)d=v?r(f,b,[m.value,C],!0):m.value,s(a,C,d);return a.length=C,a}},a630:function(e,t,a){var o=a("23e7"),n=a("4df4"),r=a("1c7e"),l=!r((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:l},{from:n})},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("fb6a"),a("b0c0"),a("a630");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function n(e,t){if(e){if("string"===typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}function r(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==a["return"]||a["return"]()}finally{if(s)throw l}}}}},bd88:function(e,t,a){"use strict";a("0d6b")},d28b:function(e,t,a){var o=a("746f");o("iterator")},de6c:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("h4",[e._v("人员异动")]),a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"180px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"管理机构",prop:"manageCom"}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.options,"show-all-levels":!1,props:{expandTrigger:"hover",checkStrictly:!0},clearable:""},on:{change:e.changeVal},model:{value:e.form.manageCom,callback:function(t){e.$set(e.form,"manageCom",t)},expression:"form.manageCom"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"团队代码"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.branchAttr,callback:function(t){e.$set(e.form,"branchAttr",t)},expression:"form.branchAttr"}},e._l(e.list.branchAttr,(function(t,o){return a("el-option",{key:o,attrs:{label:t.branchAttr,value:t.branchAttr}},[a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.name))]),a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.branchAttr))])])})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"团队名称"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.branchName,callback:function(t){e.$set(e.form,"branchName",t)},expression:"form.branchName "}},e._l(e.list.branchName,(function(t,o){return a("el-option",{key:o,attrs:{label:t.name,value:t.branchAttr}},[a("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.branchAttr))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人代码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.agentCode,callback:function(t){e.$set(e.form,"agentCode",t)},expression:"form.agentCode"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"代理人姓名"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.agentName,callback:function(t){e.$set(e.form,"agentName",t)},expression:"form.agentName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"手机号",prop:"agentPhone"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.agentPhone,callback:function(t){e.$set(e.form,"agentPhone",t)},expression:"form.agentPhone"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"证件号码",prop:"idNo"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"可选项",clearable:""},model:{value:e.form.idNo,callback:function(t){e.$set(e.form,"idNo",t)},expression:"form.idNo"}})],1)],1)],1),a("el-row",[a("el-form-item",[a("el-col",{staticStyle:{"text-align":"left","margin-top":"1rem"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("查询")]),a("el-button",{attrs:{type:"success",icon:"el-icon-edit"},on:{click:e.handleOpenChangeDialog}},[e._v("异动")]),a("el-button",{attrs:{type:"secondary",icon:"el-icon-refresh-left"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)],1),a("el-divider"),a("div",[a("el-table",{attrs:{data:e.table,stripe:"",border:"",fit:"",height:"300"},on:{"selection-change":e.handleSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),a("el-table-column",{attrs:{label:"人员工号",prop:"agentCode"}}),a("el-table-column",{attrs:{label:"人员姓名",prop:"agentName"}}),a("el-table-column",{attrs:{label:"分公司",prop:"manageCom2"}}),a("el-table-column",{attrs:{label:"中心支公司",prop:"manageCom3"}}),a("el-table-column",{attrs:{label:"团队代码",prop:"agentGroup"}}),a("el-table-column",{attrs:{label:"团队名称",prop:"branchName"}}),a("el-table-column",{attrs:{label:"入司日期",prop:"employDate"}}),a("el-table-column",{attrs:{label:"人员状态",prop:"agentState"}}),a("el-table-column",{attrs:{label:"合同类型",prop:"contractType"}}),a("el-table-column",{attrs:{label:"职级",prop:"agentGrade"}})],1),a("div",{staticClass:"block",staticStyle:{"text-align":"right","margin-top":"1rem"}},[a("el-pagination",{attrs:{"current-page":e.page.currentPage,"page-sizes":[10,20,50,100,200,500],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.page.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("PersonChangeDialog")],1)],1)},n=[],r=a("b85c"),l=a("5530"),i=(a("159b"),a("b64b"),a("61f7")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"人员异动",visible:e.config.dialogFormVisible},on:{"update:visible":function(t){return e.$set(e.config,"dialogFormVisible",t)}}},[a("el-form",{attrs:{model:e.form,"label-width":"130px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标中心支公司"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"目标中心支公司",autocomplete:"off"},on:{change:e.getAgentGroupList},model:{value:e.form.manageCom,callback:function(t){e.$set(e.form,"manageCom",t)},expression:"form.manageCom"}},e._l(e.list.manageComList,(function(t,o){return a("el-option",{key:o,attrs:{label:t.name,value:t.code}},[a("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.code))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标团队"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"目标团队"},on:{change:e.getInformation},model:{value:e.form.agentGroup,callback:function(t){e.$set(e.form,"agentGroup",t)},expression:"form.agentGroup"}},e._l(e.list.agentGroupList,(function(t,o){return a("el-option",{key:o,attrs:{label:t.name,value:t.branchAttr}},[a("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.branchAttr))]),a("span",{staticStyle:{float:"right"}},[e._v(e._s(t.name))])])})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"调动日期"}},[a("el-date-picker",{staticStyle:{width:"80%"},attrs:{type:"date",placeholder:"选择日期",disabled:!0,"value-format":"yyyy-MM-dd"},model:{value:e.form.modifyDate,callback:function(t){e.$set(e.form,"modifyDate",t)},expression:"form.modifyDate"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标团队主管代码"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.adminCode,callback:function(t){e.$set(e.form,"adminCode",t)},expression:"form.adminCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标团队主管姓名"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{autocomplete:"off",disabled:!0},model:{value:e.form.adminName,callback:function(t){e.$set(e.form,"adminName",t)},expression:"form.adminName"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.config.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.changeAgent}},[e._v("确 定")])],1)],1)},c=[],m=a("b775");function f(e,t){var a="/search/return",o="?limit="+t.pageSize+"&page="+t.currentPage;return Object(m["a"])({url:a+o,method:"post",data:e})}function u(){return Object(m["a"])({url:"/returnMes/com4Info",method:"post"})}function d(e){var t="/returnMes/groupInfo",a="?manageCode="+e;return Object(m["a"])({url:t+a,method:"post"})}function p(e){var t="/returnMes/managerInfo",a="?branchAttr="+e;return Object(m["a"])({url:t+a,method:"post"})}function g(e){return Object(m["a"])({url:"/agent/change",method:"post",data:e})}function h(){return Object(m["a"])({url:"/get/comresource",method:"post"})}var b={name:"PersonChangeDialog",data:function(){return{config:{dialogFormVisible:!1},form:{manageCom:"",agentGroup:"",modifyDate:"",adminCode:"",adminName:"",agentCodeList:[],operator:"admin"},list:{manageComList:"",agentGroupList:""}}},mounted:function(){var e=this;this.$bus.$on("OPEN_PERSON_CHANGE_DIALOG",(function(t){e.config.dialogFormVisible=!0,u().then((function(t){e.list.manageComList=t.list})),e.form.agentCodeList=t}))},beforeDestroy:function(){this.$off("OPEN_PERSON_CHANGE_DIALOG")},methods:{getAgentGroupList:function(){var e=this;d(this.form.manageCom).then((function(t){e.form.agentGroup="",e.list.agentGroupList=t.list}))},getInformation:function(){var e=this;p(this.form.agentGroup).then((function(t){e.form.adminCode=t.managerId,e.form.adminName=t.managerName,e.form.modifyDate=new Date}))},changeAgent:function(){g(this.form),this.config.dialogFormVisible=!1}}},v=b,y=a("2877"),C=Object(y["a"])(v,s,c,!1,null,null,null),S=C.exports,A={name:"PersonnelChange",components:{PersonChangeDialog:S},data:function(){return{index2:0,form:{manageCom:"",branchAttr:"",branchName:"",agentCode:"",agentName:"",agentPhone:"",idNo:""},list:{manageCom:[],branchAttr:[],branchName:[]},rules:{manageCom:[{required:!0,message:"请选择管理机构",trigger:"change"}],agentPhone:[{validator:i["j"],trigger:"blur"}]},table:[],selected:[],page:{currentPage:1,totalCount:0,pageSize:10},options:[]}},created:function(){var e=this;h().then((function(t){e.options.push(t["result"])}))},methods:{changeVal:function(){var e=this;d(this.form.manageCom).then((function(t){e.list.branchAttr=t.list,e.list.branchName=t.list}))},resetForm:function(){var e=this;this.$refs["form"].resetFields(),Object.keys(this.form).forEach((function(t){e.form[t]=""})),this.table=[],this.page.currentPage=1,this.page.totalCount=0},handleQuery:function(){var e=this;this.$refs["form"].validate((function(t){if(!t)return!1;e.table=[];var a=Object(l["a"])({},e.form);a.manageCom=0!==e.form.manageCom.length?e.form.manageCom[e.form.manageCom.length-1]:"",f(a,{pageSize:e.page.pageSize,currentPage:e.page.currentPage}).then((function(t){console.log(t),e.table=t["list"],e.page.totalCount=t["totalCount"],e.$message.success("查询完毕")}))}))},handleOpenChangeDialog:function(){this.$bus.$emit("OPEN_PERSON_CHANGE_DIALOG",this.selected)},handleSizeChange:function(e){this.page.pageSize=e,this.handleQuery()},handleCurrentChange:function(e){this.page.currentPage=e,this.handleQuery()},handleSelectChange:function(e){this.selected=[];var t,a=Object(r["a"])(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;this.selected.push(o.agentCode)}}catch(n){a.e(n)}finally{a.f()}}}},w=A,_=(a("bd88"),Object(y["a"])(w,o,n,!1,null,"f24bd29a",null));t["default"]=_.exports},e01a:function(e,t,a){"use strict";var o=a("23e7"),n=a("83ab"),r=a("da84"),l=a("5135"),i=a("861d"),s=a("9bf2").f,c=a("e893"),m=r.Symbol;if(n&&"function"==typeof m&&(!("description"in m.prototype)||void 0!==m().description)){var f={},u=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof u?new m(e):void 0===e?m():m(e);return""===e&&(f[t]=!0),t};c(u,m);var d=u.prototype=m.prototype;d.constructor=u;var p=d.toString,g="Symbol(test)"==String(m("test")),h=/^Symbol\((.*)\)[^)]+$/;s(d,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=p.call(e);if(l(f,e))return"";var a=g?t.slice(7,-1):t.replace(h,"$1");return""===a?void 0:a}}),o({global:!0,forced:!0},{Symbol:u})}},fb6a:function(e,t,a){"use strict";var o=a("23e7"),n=a("861d"),r=a("e8b5"),l=a("23cb"),i=a("50c4"),s=a("fc6a"),c=a("8418"),m=a("b622"),f=a("1dde"),u=a("ae40"),d=f("slice"),p=u("slice",{ACCESSORS:!0,0:0,1:2}),g=m("species"),h=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!d||!p},{slice:function(e,t){var a,o,m,f=s(this),u=i(f.length),d=l(e,u),p=l(void 0===t?u:t,u);if(r(f)&&(a=f.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[g],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(f,d,p);for(o=new(void 0===a?Array:a)(b(p-d,0)),m=0;d<p;d++,m++)d in f&&c(o,m,f[d]);return o.length=m,o}})}}]);